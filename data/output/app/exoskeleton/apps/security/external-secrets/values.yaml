# External Secrets Operator Helm Values
# Official chart: https://charts.external-secrets.io

installCRDs: true

# High availability deployment
replicaCount: 1

# Resource limits
resources:
  limits:
    cpu: 100m
    memory: 256Mi
  requests:
    cpu: 50m
    memory: 128Mi

# Webhook configuration
webhook:
  create: true
  port: 9443
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 50m
      memory: 64Mi

# Cert controller for webhook TLS
certController:
  create: true
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 50m
      memory: 64Mi

# Service monitor for Prometheus (if enabled)
serviceMonitor:
  enabled: false

# Pod-level security context (fsGroup must be here, not in container securityContext)
podSecurityContext:
  fsGroup: 1000

# Container-level security context (fsGroup is NOT valid here)
securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: true
  seccompProfile:
    type: RuntimeDefault
