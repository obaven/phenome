# Prometheus Helm Values
# Rendered by Bootstrappo Composer

image:
  repository: prom/prometheus
  tag: latest

env: []

extraArgs:
  - "--storage.tsdb.retention.time=15d"
  - "--storage.tsdb.retention.size=20GB"

service:
  type: ClusterIP
  port: 9090

persistence:
  data:
    enabled: true
    size: 20Gi
    storageClassName: local-path

config: |
  global:
    scrape_interval: 15s
  scrape_configs:
    - job_name: 'prometheus'
      static_configs:
        - targets: ['localhost:9090']
    - job_name: 'vector'
      static_configs:
        - targets: ['vector.observability.svc.cluster.local:9090']
    - job_name: 'cadvisor'
      static_configs:
        - targets: ['cadvisor.observability.svc.cluster.local:8080']
    - job_name: 'node-exporter'
      static_configs:
        - targets: ['node-exporter.observability.svc.cluster.local:9100']
